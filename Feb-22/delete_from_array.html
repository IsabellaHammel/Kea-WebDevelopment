<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="users">

    </div>
    <button>hello</button>

    <script>
        // this came from an API
        const users = [{
            "id": 1,
            "name": "one"
        }, {
            "id": 2,
            "name": "two"
        }, {
            "id": 3,
            "name": "three"
        }]

        // If you need to use "this" make sure you are inside a js object and using a "function"

        const user = {
            "show_users": function() {
                users.forEach(user => {
                    const div_user = `
                        <div class="user">
                            <span>${user.id}</span><span>${user.id}</span>
                            <button onclick="user.delete()">
                                delete ${user.name}
                            </button>
                        </div>`
                    one("#users").insertAdjacentHTML("beforeend", div_user)
                })
            },
            "delete": function() {
                // console.log("delete user", user_id)
                // console.log(event.target)
                // event.target is the button
                event.target.parentNode.remove()
            }
        }

        user.show_users()

        function one(selector) {
            return document.querySelector(selector)
        }

        function all(selector) {
            return document.querySelectorAll(selector)
        }
    </script>

</body>

</html>